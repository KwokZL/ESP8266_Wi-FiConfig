<div align='center'>
  <img src='./imgs/logo.png' style='width:200px'/>
  <h1>ESP8266_Wi-FiConfig</h1>
  <p>为ESP8266连接Wi-Fi</p>
</div>


## 简介

本项目是为ESP8266编写的连接Wi-Fi的工具。

> 欢迎提交Issue和PR，共同改进项目。

## 开发者

### 代码部分

根据注释修改并添加自己所需的逻辑即可。你也可以修改、自定义HTML/CSS界面。

#### 可修改部分及注释

##### 配置Wi-Fi名称

默认为`Device Connect`，你可以进行修改。

> 请注意：Wi-Fi名称有长度限制。若超出，将会出现错误。

##### 头部Logo

将你的图片转换为Base64，然后替换代码中相应Base64字段即可。

##### HTML及CSS

你可以自定义界面样式，编写自己的配网界面。

> 注意：Logo通过JS代码加载。请确保元素id与JS代码中的id一致。具体操作见下文。

#### 在配网界面可使用的API

##### 获取可用Wi-Fi列表

请求（GET）：`http://192.168.4.1/WiFiList`

返回：使用`<option>`和`</option>`包裹的Wi-Fi名称

##### 连接Wi-Fi

请求（GET）：`http://192.168.4.1/connectWifi`

|   字段   |       含义        |
| :------: | :---------------: |
|   ssid   | 要连接的Wi-Fi名称 |
| password |     Wi-Fi密码     |

##### 获取Logo

请求（GET）：`http://192.168.4.1/img1`

> 注意：返回的是一段JS代码，而不是图片的Base64编码。若你需要自定HTML，请参考示例HTML，添加或修改相应元素id。

##### 获取CSS

请求（GET）：`http://192.168.4.1/css`

## 用户

通电后，设备会在10秒内尝试连接上一次保存的Wi-Fi。若10秒内无法连接Wi-Fi，则自动开启配置。

> 10秒的时间可以在代码中更改

### 步骤

1. 使用手机、电脑等设备连接名称为`Device Connect`的Wi-Fi

2. 连接后，设备会自动弹出配置页面

   > 若未弹出，请在浏览器中访问`http://192.168.4.1/`

3. 按照提示选择Wi-Fi，并输入密码

4. 点击“连接”后网页将关闭，设备自动重启。若仍无法在10秒内连接，则重复以上步骤

   > 注意：设备不会在成功连接后才退出配网页面。无论是否连接成功（密码是否正确），设备都会重启，并只会在10秒的时间内尝试连接。